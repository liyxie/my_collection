# html2image

## 报错 TMP

失败原因是找不到 `'TMP'` 这个环境变量（通常是 `TMP` 或 `TEMP` 临时目录变量）
运行环境缺少 `TMP` 或 `TEMP` 环境变量（比如在某些 Linux / Docker 容器中）
`html2image` 库无法访问本地临时目录（权限不足或路径不存在）

**检查 TMP 环境变量**

```bash
echo $TMP
echo $TEMP
```

如果是空的，可以手动设置，比如：

```bash
export TMP=/tmp
export TEMP=/tmp
```

### **解决方法**

#### **方法 1：运行前设置环境变量**

在运行你的 Python 代码前，加上：

```bash
export TMP=/tmp
export TEMP=/tmp
```

如果是在 Python 里，可以在调用前加：

```
python复制编辑import os
os.environ.setdefault("TMP", "/tmp")
os.environ.setdefault("TEMP", "/tmp")
```

#### 方法2：项目代码修改

项目代码加

```python
import os
os.environ.setdefault("TMP", "/tmp")
os.environ.setdefault("TEMP", "/tmp")



# 如果是 Windows 环境
import os
import tempfile
# 获取系统临时目录
temp_dir = tempfile.gettempdir()
os.environ.setdefault("TMP", temp_dir)
os.environ.setdefault("TEMP", temp_dir)

```

## 指定浏览器驱动依赖

`html2image` 需要系统安装浏览器（一般是 Chromium 或 Google Chrome）

代码指定

```python

```

