## 模型结构化输出差异

MIniMax M2 官方api的一次对话中响应中有几率回复 content 和 tool_calls

```bash
2025-12-20 16:22:15 - httpx - INFO - HTTP Request: POST https://api.minimaxi.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-20 16:22:15 - root - INFO - Received delta: ChoiceDelta(content='', function_call=None, refusal=None, role='assistant', tool_calls=None, name='MiniMax AI', audio_content='', reasoning_details=[{'type': 'reasoning.text', 'id': 'reasoning-text-1', 'format': 'MiniMax-response-v1', 'index': 0, 'text': '现在我已经'}])
2025-12-20 16:22:15 - root - INFO - Received delta: ChoiceDelta(content='', function_call=None, refusal=None, role='assistant', tool_calls=None, name='MiniMax AI', audio_content='', reasoning_details=[{'type': 'reasoning.text', 'id': 'reasoning-text-1', 'format': 'MiniMax-response-v1', 'index': 0, 'text': '切换到了云端文件存储管理工具集。用户想要查询云端文件，我需要先获取用户的云端文件列表。\n\n根据工具描述，我可以使用file_cloud_list来获取云端文件'}])
2025-12-20 16:22:16 - root - INFO - Received delta: ChoiceDelta(content='', function_call=None, refusal=None, role='assistant', tool_calls=None, name='MiniMax AI', audio_content='', reasoning_details=[{'type': 'reasoning.text', 'id': 'reasoning-text-1', 'format': 'MiniMax-response-v1', 'index': 0, 'text': "列表。但我需要先确定文件类型：\n- 个人文件：'user'\n- 团队文件：'team'\n\n我应该先查询个人文件，然后再查询团队文件（如果有的话"}])
2025-12-20 16:22:16 - root - INFO - Received delta: ChoiceDelta(content='', function_call=None, refusal=None, role='assistant', tool_calls=None, name='MiniMax AI', audio_content='', reasoning_details=[{'type': 'reasoning.text', 'id': 'reasoning-text-1', 'format': 'MiniMax-response-v1', 'index': 0, 'text': '）。让我先获取个人文件列表。'}])
2025-12-20 16:22:16 - root - INFO - Received delta: ChoiceDelta(content='我来帮您查询云端文件。我将分别查询您的个人文件和团队文件。\n', function_call=None, refusal=None, role='assistant', tool_calls=None, name='MiniMax AI', audio_content='')
2025-12-20 16:22:16 - root - INFO - Received delta: ChoiceDelta(content='', function_call=None, refusal=None, role='assistant', tool_calls=[ChoiceDeltaToolCall(index=0, id='call_function_c0i4ywoauqon_1', function=ChoiceDeltaToolCallFunction(arguments='{"file_type": "user"}', name='file_cloud_list'), type='function')], name='MiniMax AI', audio_content='')
2025-12-20 16:22:17 - httpx - INFO - HTTP Request: POST https://api.minimaxi.com/v1/chat/completions "HTTP/1.1 200 OK"
```









MiniMax-M2
(YXDWorker pid=1712415) 调用API失败，error: Error code: 400 - {'type': 'error', 'error': {'type': 'bad_request_error', 'message': "invalid params, tool result's tool id(call_e36d23680b6646bc9edea594) not found (2013)", 'http_code': '400'}, 'request_id': '059599464d77d6ec4f29eecff9b10309'}